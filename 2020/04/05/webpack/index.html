<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>webpack é¸¡ç²¾ | äº¢äº¢å…®çš„house</title>
    <meta name="description" content="
ç‰ˆæœ¬ 4.0

webpack åœ¨å‰ç«¯ç»„ä»¶åŒ–çš„è¶‹åŠ¿ä¸‹å¸®åŠ©å¼€å‘è€…è‡ªåŠ¨å®Œæˆå¾ˆå¤šçç¢çš„å·¥ä½œ

webpack æ”¯æŒçš„æ¨¡å—åŒ–è§„èŒƒ

commonjs è§„èŒƒæ˜¯ç»™ webpack é…ç½®æ–‡ä»¶ä½¿ç”¨çš„, AMD/ES6 ç­‰è§„èŒƒæ˜¯ç»™é¡¹ç›®è‡ªå·±ç”¨çš„ï¼Œæ‰€ä»¥ä¼šçœ‹åˆ°ä¸¤ç§ js è§„èŒƒçš„å†™æ³•ï¼Œä¸è¦å¥‡æ€ª:kissingsmilingeyes:
webpack æ˜¯åŸºäº node ç¯å¢ƒçš„ï¼Œæ‰€ä»¥é…ç½®æ–‡ä»¶ç”¨ ...">
    <meta name="generator" content="VuePress 1.4.0">
    
    
    <link rel="preload" href="/blog/assets/css/0.styles.7ea20a05.css" as="style"><link rel="preload" href="/blog/assets/js/app.5bbe13a6.js" as="script"><link rel="preload" href="/blog/assets/js/7.126d0200.js" as="script"><link rel="preload" href="/blog/assets/js/4.c23d506f.js" as="script"><link rel="preload" href="/blog/assets/js/22.034c2fa8.js" as="script"><link rel="prefetch" href="/blog/assets/js/1.e2ab5446.js"><link rel="prefetch" href="/blog/assets/js/10.e8c02250.js"><link rel="prefetch" href="/blog/assets/js/11.c5d4eb0d.js"><link rel="prefetch" href="/blog/assets/js/12.36681711.js"><link rel="prefetch" href="/blog/assets/js/13.eab99fba.js"><link rel="prefetch" href="/blog/assets/js/14.9b39bfe1.js"><link rel="prefetch" href="/blog/assets/js/15.dbbba69e.js"><link rel="prefetch" href="/blog/assets/js/16.ee9570c8.js"><link rel="prefetch" href="/blog/assets/js/17.de114c5e.js"><link rel="prefetch" href="/blog/assets/js/18.d268968e.js"><link rel="prefetch" href="/blog/assets/js/19.b473fc27.js"><link rel="prefetch" href="/blog/assets/js/20.03d31a69.js"><link rel="prefetch" href="/blog/assets/js/21.0d11a637.js"><link rel="prefetch" href="/blog/assets/js/23.38903bb7.js"><link rel="prefetch" href="/blog/assets/js/5.25135b66.js"><link rel="prefetch" href="/blog/assets/js/6.f45fa096.js"><link rel="prefetch" href="/blog/assets/js/8.adccfb62.js"><link rel="prefetch" href="/blog/assets/js/9.f71868e4.js"><link rel="prefetch" href="/blog/assets/js/vuejs-paginate.00128b2d.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.7ea20a05.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div id="vuepress-theme-blog__global-layout"><section id="header-wrapper"><header id="header"><div class="header-wrapper"><div class="title"><a href="/blog/" class="nav-link home-link">äº¢äº¢å…®çš„house </a></div> <div class="header-right-wrap"><ul class="nav"><li class="nav-item"><a href="/blog/" class="nav-link">åšå®¢</a></li><li class="nav-item"><a href="/blog/tag/" class="nav-link">æ ‡ç­¾</a></li></ul> <div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <!----></div></div></header></section> <div id="mobile-header"><div class="mobile-header-bar"><div class="mobile-header-title"><a href="/blog/" class="nav-link mobile-home-link">äº¢äº¢å…®çš„house </a> <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line></svg></div> <div class="mobile-menu-wrapper"><hr class="menu-divider"> <ul class="mobile-nav"><li class="mobile-nav-item"><a href="/blog/" class="nav-link">åšå®¢</a></li><li class="mobile-nav-item"><a href="/blog/tag/" class="nav-link">æ ‡ç­¾</a></li> <li class="mobile-nav-item"><!----></li></ul></div></div></div> <div class="content-wrapper"><div id="vuepress-theme-blog__post-layout"><article itemscope="itemscope" itemtype="https://schema.org/BlogPosting" class="vuepress-blog-theme-content"><header><h1 itemprop="name headline" class="post-title">
        
      </h1> <div class="post-meta"><div itemprop="publisher author" itemtype="http://schema.org/Person" itemscope="itemscope" class="post-meta-author"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-navigation"><polygon points="3 11 22 2 13 21 11 13 3 11"></polygon></svg> <span itemprop="name">äº¢äº¢å…®</span> <span itemprop="address"> Â  in é‡‘é™µ</span></div> <div class="post-meta-date"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock"><circle cx="12" cy="12" r="10"></circle><polyline points="12 6 12 12 16 14"></polyline></svg> <time pubdate itemprop="datePublished" datetime="2020-4-05">
      Sun Apr 05 2020
    </time></div> <ul itemprop="keywords" class="post-meta-tags"><li class="post-tag" data-v-25dfc3b6><a href="/blog/tag/webpack" data-v-25dfc3b6> webpack </a></li><li class="post-tag" data-v-25dfc3b6><a href="/blog/tag/æŠ€æœ¯" data-v-25dfc3b6> æŠ€æœ¯ </a></li></ul></div></header> <div itemprop="articleBody" class="content__default"><h1 id="webpack-é¸¡ç²¾"><a href="#webpack-é¸¡ç²¾" class="header-anchor">#</a> webpack é¸¡ç²¾</h1> <h2 id="ç‰ˆæœ¬-4-0"><a href="#ç‰ˆæœ¬-4-0" class="header-anchor">#</a> ç‰ˆæœ¬ 4.0</h2> <h2 id="webpack-åœ¨å‰ç«¯ç»„ä»¶åŒ–çš„è¶‹åŠ¿ä¸‹å¸®åŠ©å¼€å‘è€…è‡ªåŠ¨å®Œæˆå¾ˆå¤šçç¢çš„å·¥ä½œ"><a href="#webpack-åœ¨å‰ç«¯ç»„ä»¶åŒ–çš„è¶‹åŠ¿ä¸‹å¸®åŠ©å¼€å‘è€…è‡ªåŠ¨å®Œæˆå¾ˆå¤šçç¢çš„å·¥ä½œ" class="header-anchor">#</a> webpack åœ¨å‰ç«¯ç»„ä»¶åŒ–çš„è¶‹åŠ¿ä¸‹å¸®åŠ©å¼€å‘è€…è‡ªåŠ¨å®Œæˆå¾ˆå¤šçç¢çš„å·¥ä½œ</h2> <h2 id="webpack-æ”¯æŒçš„æ¨¡å—åŒ–è§„èŒƒ"><a href="#webpack-æ”¯æŒçš„æ¨¡å—åŒ–è§„èŒƒ" class="header-anchor">#</a> webpack æ”¯æŒçš„æ¨¡å—åŒ–è§„èŒƒ</h2> <ul><li>commonjs è§„èŒƒæ˜¯ç»™ webpack é…ç½®æ–‡ä»¶ä½¿ç”¨çš„, AMD/ES6 ç­‰è§„èŒƒæ˜¯ç»™é¡¹ç›®è‡ªå·±ç”¨çš„ï¼Œæ‰€ä»¥ä¼šçœ‹åˆ°ä¸¤ç§ js è§„èŒƒçš„å†™æ³•ï¼Œä¸è¦å¥‡æ€ªğŸ˜™</li> <li>webpack æ˜¯åŸºäº node ç¯å¢ƒçš„ï¼Œæ‰€ä»¥é…ç½®æ–‡ä»¶ç”¨ commonjs è§„èŒƒ</li> <li>é…ç½®æ–‡ä»¶å°±æ˜¯ webpack æ‰“åŒ…çš„ä¾æ®</li></ul> <h2 id="webpack-é…ç½®æ–‡ä»¶æ ¸å¿ƒ"><a href="#webpack-é…ç½®æ–‡ä»¶æ ¸å¿ƒ" class="header-anchor">#</a> webpack é…ç½®æ–‡ä»¶æ ¸å¿ƒ</h2> <ul><li>Entry</li></ul> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// entry: &quot;./app.js&quot;,</span>
  <span class="token comment">// entry: [&quot;./app.js&quot;, &quot;./app2.js&quot;], // å¤šä¸ªå…¥å£æ–‡ä»¶æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶ï¼Œå•é¡µé¢æ–¹å¼</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ‰“åŒ…æˆå¤šä¸ªå…¥å£ï¼Œå¤šé¡µé¢æ‰“åŒ…æ–¹å¼</span>
    app<span class="token operator">:</span> <span class="token string">&quot;./app.js&quot;</span><span class="token punctuation">,</span>
    app2<span class="token operator">:</span> <span class="token string">&quot;./app2.js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>Output</li></ul> <div class="language-json extra-class"><pre class="language-json"><code>output<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// filename: </span><span class="token string">&quot;bundle.js&quot;</span>
    path<span class="token operator">:</span> __dirname + <span class="token string">&quot;/out&quot;</span><span class="token punctuation">,</span>
    filename<span class="token operator">:</span> <span class="token string">&quot;./js/[name].[hash:6].js&quot;</span> <span class="token comment">// hash: ä½œç”¨æˆªå–, å…¶ä»–å†…ç½®å˜é‡[id][chunkhash]</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>loader
webpack è‡ªèº«åªèƒ½è´Ÿè´£æ‰“åŒ…ï¼Œç¼–è¯‘å·¥ä½œäº¤ç»™ loader</li></ul> <div class="language-json extra-class"><pre class="language-json"><code> module<span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// rules: [</span>
    <span class="token comment">//   // loader éƒ½æ˜¯ç¬¬ä¸‰æ–¹çš„</span>
    <span class="token comment">//   {</span>
    <span class="token comment">//     test: /\.js$/, // æŒ‡å®šä»€ä¹ˆç±»å‹çš„èµ„æºæ–‡ä»¶</span>
    <span class="token comment">//     // use: {</span>
    <span class="token comment">//     //   loader: </span><span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
    <span class="token comment">//     //   options: {</span>
    <span class="token comment">//     //   }</span>
    <span class="token comment">//     // }</span>
    <span class="token comment">//     use: [{}]</span>
    <span class="token comment">//   }</span>
    <span class="token comment">// ]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

</code></pre></div><ul><li>plugin</li></ul> <div class="language-json extra-class"><pre class="language-json"><code>plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token comment">// ç»™webpackæä¾›é¢å¤–åŠŸèƒ½çš„æ’ä»¶ï¼Œæœ‰å®˜æ–¹çš„å’Œç¬¬ä¸‰æ–¹çš„</span>
    <span class="token comment">// new webpack.HotModuleReplacementPlugin()</span>
<span class="token punctuation">]</span>
</code></pre></div><h2 id="webpack-å±€éƒ¨å®‰è£…å’Œå…¨å±€å®‰è£…"><a href="#webpack-å±€éƒ¨å®‰è£…å’Œå…¨å±€å®‰è£…" class="header-anchor">#</a> webpack å±€éƒ¨å®‰è£…å’Œå…¨å±€å®‰è£…</h2> <ul><li>å…¨å±€å®‰è£…çš„ webpack ä½¿ä½ å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹ä½¿ç”¨ webpack å‘½ä»¤</li> <li>å±€éƒ¨å®‰è£…çš„ webpack æ˜¯åœ¨é¡¹ç›®è‡ªèº«ä¸­ä½¿ç”¨ã€‚
ä½¿ç”¨çš„è¯éœ€è¦æŒ‡å®šè·¯å¾„</li></ul> <div class="language- extra-class"><pre class="language-text"><code> ./node_modules/webpack/bin/webpack.js --config webpack.myconfig.js
</code></pre></div><p>webpack --config æ–‡ä»¶å: æŒ‡å®š webpack æ‰“åŒ…æ—¶ç”¨çš„é…ç½®æ–‡ä»¶ï¼Œé»˜è®¤æ˜¯ç”¨çš„ webpack.config.js</p> <ul><li>å¦‚æœä½¿ç”¨ script build è„šæœ¬ï¼Œæ‰§è¡Œ npm run build ä¼šä¼˜å…ˆä½¿ç”¨é¡¹ç›®è‡ªå·±çš„ webpackï¼Œæ²¡æœ‰åˆ™ä¼šä½¿ç”¨å…¨å±€</li></ul> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h1 id="webpack-å®æˆ˜"><a href="#webpack-å®æˆ˜" class="header-anchor">#</a> webpack å®æˆ˜</h1> <h2 id="é¡¹ç›®ä½¿ç”¨-babel"><a href="#é¡¹ç›®ä½¿ç”¨-babel" class="header-anchor">#</a> é¡¹ç›®ä½¿ç”¨ babel</h2> <p>ä¸ºäº†è®©æ‰“åŒ…åçš„ä»£ç å˜æˆ es5</p> <h3 id="babel-ä¾èµ–ï¼Œå±äº-dev-ä¾èµ–"><a href="#babel-ä¾èµ–ï¼Œå±äº-dev-ä¾èµ–" class="header-anchor">#</a> babel ä¾èµ–ï¼Œå±äº dev ä¾èµ–</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;@babel/core&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.8.7&quot;</span><span class="token punctuation">,</span> --babelç¼–è¯‘çš„æ ¸å¿ƒ
<span class="token property">&quot;babel-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^8.0.6&quot;</span><span class="token punctuation">,</span> --ç»™webpackç”¨
<span class="token property">&quot;@babel/preset-env&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.8.7&quot;</span><span class="token punctuation">,</span> -- babelç¼–è¯‘envè§„èŒƒ
-------
<span class="token property">&quot;babel-polyfill&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.26.0&quot;</span><span class="token punctuation">,</span> --å…¨å±€ç¼–è¯‘es<span class="token number">6</span>çš„ä¸€äº›æ–¹æ³•
-------
<span class="token property">&quot;@babel/plugin-transform-runtime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.8.3&quot;</span><span class="token punctuation">,</span> -- å±€éƒ¨ç¼–è¯‘es<span class="token number">6</span>
 <span class="token property">&quot;@babel/runtime&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^7.8.7&quot;</span><span class="token punctuation">,</span>-- runtimeåº“
</code></pre></div><h3 id="é…ç½®-preset"><a href="#é…ç½®-preset" class="header-anchor">#</a> é…ç½® preset</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> /\.js$/<span class="token punctuation">,</span>
  <span class="token property">&quot;use&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">[</span>
          <span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            <span class="token property">&quot;targets&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// browsers: [</span><span class="token string">&quot;&gt;1%&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
              <span class="token property">&quot;chrome&quot;</span><span class="token operator">:</span> <span class="token string">&quot;59&quot;</span>
            <span class="token punctuation">}</span>
          <span class="token punctuation">}</span>
        <span class="token punctuation">]</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>options è¶Šå†™è¶Šå¤šï¼Œæå‡ºä¸€ä¸ª babel çš„é…ç½®æ–‡ä»¶ babelrc</p> <h3 id="babel-polyfill-å› ä¸ºç”Ÿæˆå…¨å±€ä»£ç å®ç°ï¼Œå¯¼è‡´æ–‡ä»¶å¾ˆå¤§ï¼Œæ‰€ä»¥åœ¨æ¡†æ¶å¼€å‘ä¸­ä¸æ¨è"><a href="#babel-polyfill-å› ä¸ºç”Ÿæˆå…¨å±€ä»£ç å®ç°ï¼Œå¯¼è‡´æ–‡ä»¶å¾ˆå¤§ï¼Œæ‰€ä»¥åœ¨æ¡†æ¶å¼€å‘ä¸­ä¸æ¨è" class="header-anchor">#</a> babel-polyfill - å› ä¸ºç”Ÿæˆå…¨å±€ä»£ç å®ç°ï¼Œå¯¼è‡´æ–‡ä»¶å¾ˆå¤§ï¼Œæ‰€ä»¥åœ¨æ¡†æ¶å¼€å‘ä¸­ä¸æ¨è</h3> <ol><li>ç›´æ¥å¼•ç”¨
ä¼šåœ¨æ‰“åŒ…åçš„ä»£ç ä¸­åŠ å…¥åŒ…æ‹¬ Promise çš„ es5 çš„å®ç°ï¼Œä¼šä½¿æ–‡ä»¶å˜å¾ˆå¤§</li></ol> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&quot;babel-polyfill&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ol><li>é…ç½®æ–‡ä»¶</li></ol> <div class="language-json extra-class"><pre class="language-json"><code>entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    app<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;babel-polyfill&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;./app.js&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="babel-transform-runtime-é€‚åˆæ¡†æ¶å¼€å‘ï¼Œåªä¼šå¯¹ä½ ç”¨åˆ°çš„-es6-æ–¹æ³•è¿›è¡ŒåŠ å…¥ä»£ç å®ç°ï¼Œå‡å°‘æ‰“åŒ…æ–‡ä»¶ä½“ç§¯"><a href="#babel-transform-runtime-é€‚åˆæ¡†æ¶å¼€å‘ï¼Œåªä¼šå¯¹ä½ ç”¨åˆ°çš„-es6-æ–¹æ³•è¿›è¡ŒåŠ å…¥ä»£ç å®ç°ï¼Œå‡å°‘æ‰“åŒ…æ–‡ä»¶ä½“ç§¯" class="header-anchor">#</a> babel-transform-runtime - é€‚åˆæ¡†æ¶å¼€å‘ï¼Œåªä¼šå¯¹ä½ ç”¨åˆ°çš„ es6 æ–¹æ³•è¿›è¡ŒåŠ å…¥ä»£ç å®ç°ï¼Œå‡å°‘æ‰“åŒ…æ–‡ä»¶ä½“ç§¯</h3> <p>å®‰è£…</p> <div class="language- extra-class"><pre class="language-text"><code>npm install @babel/plugin-transform-runtime @babel/runtime
</code></pre></div><blockquote><p>ä¸€ç§ä¸ºäº†ä¿æŒä¸@babel/core ç‰ˆæœ¬ä¸€è‡´çš„å®‰è£…æ–¹å¼</p></blockquote> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;presets&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">[</span>
      <span class="token string">&quot;@babel/preset-env&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        <span class="token property">&quot;targets&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// browsers: [</span><span class="token string">&quot;&gt;1%&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token property">&quot;chrome&quot;</span><span class="token operator">:</span> <span class="token string">&quot;59&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token string">&quot;@babel/transform-runtime&quot;</span><span class="token punctuation">]</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="é¡¹ç›®ä½¿ç”¨-typescript"><a href="#é¡¹ç›®ä½¿ç”¨-typescript" class="header-anchor">#</a> é¡¹ç›®ä½¿ç”¨ Typescript</h2> <p>ç¼–è¯‘ ts æˆä¸ºæµè§ˆå™¨è®¤è¯†çš„ js</p> <h3 id="ä¾èµ–"><a href="#ä¾èµ–" class="header-anchor">#</a> ä¾èµ–</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;ts-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^6.2.1&quot;</span><span class="token punctuation">,</span> -- ç¼–è¯‘ts

-------
/usr/local/lib
â”œâ”€â”€ @angular/cli@<span class="token number">8.3</span>.<span class="token number">8</span>
â”œâ”€â”€ @vue/cli@<span class="token number">4.1</span>.<span class="token number">1</span>
â”œâ”€â”€ cnpm@<span class="token number">6.0</span>.<span class="token number">0</span>
â”œâ”€â”€ npm@<span class="token number">6.13</span>.<span class="token number">6</span>
â”œâ”€â”€ nrm@<span class="token number">1.2</span>.<span class="token number">1</span>
â””â”€â”€ typescript@<span class="token number">3.6</span>.<span class="token number">3</span> -- å…¨å±€å®‰è£…çš„typescriptï¼Œæœ¬åœ°ç”¨ä¸èµ·æ¥

-------
<span class="token property">&quot;typescript&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.8.3&quot;</span> -- æœ¬åœ°å®‰è£…
</code></pre></div><p>ts-loader å’Œ typescriptï¼Œå‰è€…ä¾èµ–åè€…</p> <h3 id="é…ç½®ä½¿ç”¨é…ç½®æ–‡ä»¶-tsconfig-json"><a href="#é…ç½®ä½¿ç”¨é…ç½®æ–‡ä»¶-tsconfig-json" class="header-anchor">#</a> é…ç½®ä½¿ç”¨é…ç½®æ–‡ä»¶ tsconfig.json</h3> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;commonjs&quot;</span><span class="token punctuation">,</span> -- é‡‡ç”¨ä»€ä¹ˆè§„èŒƒ
    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ES5&quot;</span> -- ç¼–è¯‘æˆç›®æ ‡è¯­è¨€
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;exclude&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./node_modules&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="header-anchor">#</a> ä½¿ç”¨</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&quot;./test.ts&quot;</span><span class="token punctuation">;</span> <span class="token comment">// jsä¸­å¼•å…¥tsæ–‡ä»¶ä¸æŠ¥é”™</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="é¡¹ç›®ä½¿ç”¨å…¶ä»–åº“ä¾‹å¦‚-vue"><a href="#é¡¹ç›®ä½¿ç”¨å…¶ä»–åº“ä¾‹å¦‚-vue" class="header-anchor">#</a> é¡¹ç›®ä½¿ç”¨å…¶ä»–åº“ä¾‹å¦‚ vue</h2> <p>vue:</p> <ul><li>vue-loader -- æŠŠ vue è¯­æ³•ç¼–è¯‘æˆ js</li></ul> <p>jsx:</p> <ul><li>jsx-loader -- æŠŠ jsx ç¼–è¯‘æˆ js</li></ul> <h3 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="header-anchor">#</a> æ­¥éª¤</h3> <ul><li><p>å®‰è£…</p></li> <li><p>å†™å…¥é…ç½®æ–‡ä»¶ webpack.config.json</p></li> <li><p>å†™ loader é…ç½®</p></li></ul> <h2 id="é¡¹ç›®æ‰“åŒ…-css-less-sass"><a href="#é¡¹ç›®æ‰“åŒ…-css-less-sass" class="header-anchor">#</a> é¡¹ç›®æ‰“åŒ… css, less, sass</h2> <blockquote><p>ç”¨äº†æ¨¡å—åŒ–ç¼–ç¨‹åéœ€è¦ç”¨ js è®¾ç½® css ç±»ç”Ÿæ•ˆ, å› ä¸ºå…·ä½“ç±»ååœ¨ç”Ÿæˆçš„ stype ä¸­æ˜¯ä¹±ç </p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&quot;div1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;class&quot;</span><span class="token punctuation">,</span> css<span class="token punctuation">.</span>bordergreen<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><blockquote><p>é™¤éå¢åŠ ç±»åé…ç½®</p></blockquote> <h3 id="_1-css"><a href="#_1-css" class="header-anchor">#</a> 1. CSS</h3> <p>æ­¥éª¤ 1. css-loader: ä½¿ js èƒ½æ­£ç¡®å¼•å…¥ css
æ­¥éª¤ 2. style-loader: è®© css è¢«å¼•å…¥åä»¥ä¸€ä¸ª style æ ‡ç­¾æ’å…¥åˆ° html ä¸­, html çš„ header ä¸­ä¼šè¢«æ’å…¥ç¼–è¯‘çš„ css</p> <h4 id="é…ç½®"><a href="#é…ç½®" class="header-anchor">#</a> é…ç½®</h4> <p>css-loader å…ˆæ‰§è¡Œåœ¨åé¢å®šä¹‰</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> /\.css$/<span class="token punctuation">,</span>
  <span class="token property">&quot;use&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;injectType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;singletonStyleTag&quot;</span> <span class="token comment">// æ‰€æœ‰æ ·å¼åœ¨ä¸€ä¸ªstyleæ ‡ç­¾ä¸­</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;modules&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// å¼€å¯cssæ¨¡å—åŒ–ï¼Œç±»ä¼¼lessï¼Œsass</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>style-loader é…ç½®:
å®˜æ–¹æ–‡æ¡£è¯´çš„å¾ˆæ¸…æ¥š: <a href="https://github.com/webpack-contrib/style-loader" target="_blank" rel="noopener noreferrer">style-loader å®˜æ–¹<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="ä½¿ç”¨-2"><a href="#ä½¿ç”¨-2" class="header-anchor">#</a> ä½¿ç”¨</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&quot;./test.ts&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token string">&quot;../css/test1.css&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Promise</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">resolve<span class="token punctuation">,</span> reject</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">resolve</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">async</span> <span class="token keyword">function</span> <span class="token function">a</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="css-loader-å¼€å¯-module-ä¹‹åçš„èƒ½åŠ›"><a href="#css-loader-å¼€å¯-module-ä¹‹åçš„èƒ½åŠ›" class="header-anchor">#</a> css-loader å¼€å¯ module ä¹‹åçš„èƒ½åŠ›</h4> <p><a href="https://www.npmjs.com/package/css-loader#modules" target="_blank" rel="noopener noreferrer">css-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h3 id="_2-é¡¹ç›®æ‰“åŒ…-less-sass-css-çš„é¢„å¤„ç†è¯­è¨€"><a href="#_2-é¡¹ç›®æ‰“åŒ…-less-sass-css-çš„é¢„å¤„ç†è¯­è¨€" class="header-anchor">#</a> 2. é¡¹ç›®æ‰“åŒ… less/sass, css çš„é¢„å¤„ç†è¯­è¨€</h3> <h4 id="ä¾èµ–å…³ç³»"><a href="#ä¾èµ–å…³ç³»" class="header-anchor">#</a> ä¾èµ–å…³ç³»</h4> <p>less-loader ä¾èµ– less
sass-loader ä¾èµ– node-sass</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;css-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.4.2&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;less&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.11.1&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;less-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^5.0.0&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;node-sass&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.13.1&quot;</span><span class="token punctuation">,</span>
</code></pre></div><h4 id="é…ç½®-2"><a href="#é…ç½®-2" class="header-anchor">#</a> é…ç½®</h4> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> /\.less$/<span class="token punctuation">,</span>
  <span class="token property">&quot;use&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;injectType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;singletonStyleTag&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;modules&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;less-loader&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_3-å•ç‹¬æå–-css-æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶"><a href="#_3-å•ç‹¬æå–-css-æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶" class="header-anchor">#</a> 3. å•ç‹¬æå– css æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶</h3> <p>ç”¨æ’ä»¶: extract-text-webpack-plugin(åºŸå¼ƒ)
ç”¨ mini-css-extract-plugin<a href="https://github.com/webpack-contrib/mini-css-extract-plugin" target="_blank" rel="noopener noreferrer">mini-css-extract-plugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="ä¾èµ–-2"><a href="#ä¾èµ–-2" class="header-anchor">#</a> ä¾èµ–</h4> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;css-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.4.2&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;mini-css-extract-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.9.0&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.42.0&quot;</span><span class="token punctuation">,</span>
<span class="token property">&quot;webpack-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.3.11&quot;</span>
</code></pre></div><h4 id="é…ç½®-3"><a href="#é…ç½®-3" class="header-anchor">#</a> é…ç½®</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;mini-css-extract-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    app<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./app.js&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">&quot;./[name].bundle.js&quot;</span><span class="token punctuation">,</span> <span class="token comment">// hash: ä½œç”¨æˆªå–, å…¶ä»–å†…ç½®å˜é‡[id][chunkhash]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">&quot;[name].min.css&quot;</span><span class="token punctuation">,</span> <span class="token comment">// è¾“å‡ºæ–‡ä»¶å</span>
      chunkFilename<span class="token operator">:</span> <span class="token string">&quot;[id].css&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              <span class="token comment">// è¿™é‡Œå¯ä»¥æŒ‡å®šä¸€ä¸ª publicPath</span>
              <span class="token comment">// é»˜è®¤ä½¿ç”¨ webpackOptions.outputä¸­çš„publicPath</span>
              publicPath<span class="token operator">:</span> <span class="token string">&quot;../&quot;</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="_3-åº”ç”¨åœºæ™¯"><a href="#_3-åº”ç”¨åœºæ™¯" class="header-anchor">#</a> 3. åº”ç”¨åœºæ™¯</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token string">&quot;./test2.css&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">function</span> <span class="token function">dd</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token function">dd</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="postcss"><a href="#postcss" class="header-anchor">#</a> postcss</h3> <p>ä½œç”¨å’Œ babel å¯¹äº js å·®ä¸å¤šï¼Œèƒ½æŠŠæµè§ˆå™¨ä¸è®¤è¯†çš„ css ç¼–è¯‘æˆè®¤è¯†çš„ã€‚
å¸¸è§åŠŸèƒ½æ‘˜è‡ªç½‘ç»œ</p> <blockquote><ol><li>ä½¿ç”¨ä¸‹ä¸€ä»£ css è¯­æ³•</li> <li>è‡ªåŠ¨è¡¥å…¨æµè§ˆå™¨å‰ç¼€</li> <li>è‡ªåŠ¨æŠŠ px ä»£ä¸ºè½¬æ¢æˆ rem</li> <li>css ä»£ç å‹ç¼©ç­‰ç­‰</li></ol></blockquote> <p>å’Œ lessï¼Œsass æœ‰ä»€ä¹ˆä¸åŒ?
less, sass æ‰©å……äº† css è¯­æ³•
æ¯”å¦‚å˜é‡ç­‰
postcss ç»“åˆ webpack ä½¿ç”¨å¤„ç† css</p> <p>åè€…å¯ä»¥ä¸å‰ 2 ä¸ªä¸€èµ·ä½¿ç”¨</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> /\.less$/<span class="token punctuation">,</span>
  <span class="token property">&quot;use&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;injectType&quot;</span><span class="token operator">:</span> <span class="token string">&quot;singletonStyleTag&quot;</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;modules&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token property">&quot;localIdentName&quot;</span><span class="token operator">:</span> <span class="token string">&quot;[path][name]_[local]_[hash:4]&quot;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;postcss-loader&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;options&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token property">&quot;ident&quot;</span><span class="token operator">:</span> <span class="token string">&quot;postcss&quot;</span><span class="token punctuation">,</span> <span class="token comment">// æ’ä»¶ç»™è°ä½¿ç”¨</span>
        <span class="token property">&quot;plugins&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
          require(<span class="token string">&quot;autoprefixer&quot;</span>)(<span class="token punctuation">{</span>
            <span class="token property">&quot;overrideBroswserslist&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;&gt;1%&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;last 2 version&quot;</span><span class="token punctuation">]</span>
          <span class="token punctuation">}</span>)<span class="token punctuation">,</span> <span class="token comment">//()è°ƒç”¨ç¬¬ä¸‰æ–¹æ’ä»¶, æŒ‡å®šæ”¯æŒçš„ç›®æ ‡æµè§ˆå™¨ï¼Œä¸æŒ‡å®šåˆ™ä¸ä¼šç»™æ–°çš„è¯­æ³•ä¾‹å¦‚flexåŠ ä¸Šå‰ç¼€</span>
          require(<span class="token string">&quot;postcss-cssnext&quot;</span>)()
        <span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token property">&quot;loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;less-loader&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="ç»Ÿä¸€æŒ‡å®š-browserslist"><a href="#ç»Ÿä¸€æŒ‡å®š-browserslist" class="header-anchor">#</a> ç»Ÿä¸€æŒ‡å®š browserslist</h4> <p>åœ¨ package.json ä¸­æŒ‡å®š browserslist å­—æ®µï¼ˆæ¨èï¼‰
æˆ–è€…
åœ¨æ–°å»º.browserslistrc æ–‡ä»¶</p> <h2 id="é¡¹ç›®å¤„ç†-html"><a href="#é¡¹ç›®å¤„ç†-html" class="header-anchor">#</a> é¡¹ç›®å¤„ç† html</h2> <p>ä½¿ç”¨ HtmlWebpackPlugin</p> <h3 id="é…ç½®-4"><a href="#é…ç½®-4" class="header-anchor">#</a> é…ç½®</h3> <div class="language-json extra-class"><pre class="language-json"><code>entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    app<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./app.js&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    app<span class="token number">2</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./app2.js&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  filename<span class="token operator">:</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ç›®æ ‡æ–‡ä»¶æ˜</span>
  template<span class="token operator">:</span> <span class="token string">&quot;./index_t.html&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ä»¥å“ªä¸€ä¸ªhtmlæ–‡ä»¶ä¸ºæ¨¡æ¿</span>
  <span class="token comment">// minify: {</span>
  <span class="token comment">//   collapseWhitespace: true, // æ‰“åŒ…ç»“æœå»æ‰ç©ºç™½</span>
  <span class="token comment">// },</span>
  <span class="token comment">// inject: false, // æ˜¯å¦å°†æ‰“åŒ…ç»“æœå¼•å…¥</span>
  chunks<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;app2&quot;</span><span class="token punctuation">]</span> <span class="token comment">// å½“æœ‰å¤šä¸ªå…¥å£æ–‡ä»¶æ—¶ï¼ŒæŒ‡å®šinjectå“ªä¸€ä¸ªå…¥å£æ–‡ä»¶çš„æ‰“åŒ…ç»“æœ</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="é¡¹ç›®å¤„ç†å›¾ç‰‡"><a href="#é¡¹ç›®å¤„ç†å›¾ç‰‡" class="header-anchor">#</a> é¡¹ç›®å¤„ç†å›¾ç‰‡</h2> <h3 id="ç”¨file-loader"><a href="#ç”¨file-loader" class="header-anchor">#</a> ç”¨<a href="https://www.webpackjs.com/loaders/file-loader/" target="_blank" rel="noopener noreferrer">file-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p>é…ç½®</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(png|jpg|gif)$/</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>2 ä¸ªåœ°æ–¹å†³å®šå›¾ç‰‡è·¯å¾„</p> <div class="language-json extra-class"><pre class="language-json"><code>publicPath<span class="token operator">:</span> 'assets/img'<span class="token punctuation">,</span> <span class="token comment">//cssä¸­å¼•ç”¨å›¾ç‰‡çš„è·¯å¾„å‰ç¼€</span>
outputPath<span class="token operator">:</span> 'assets/img' <span class="token comment">// æ‰“åŒ…æ–‡ä»¶è¾“å‡ºä½ç½®</span>
</code></pre></div><blockquote><p>ä¸¤ä¸ªè®¾ä¸ºä¸€æ ·çš„å°±ä¸ä¼šæœ‰å›¾ç‰‡è·¯å¾„é—®é¢˜
ä¸ output ä¸­çš„ publicPath åŒºåˆ«: åè€…æ˜¯æ§åˆ¶æ‰“åŒ…å‡ºæ¥çš„ js å’Œ css æ–‡ä»¶å¼•ç”¨çš„ä½ç½®çš„å‰ç¼€</p></blockquote> <h3 id="ç”¨url-loader"><a href="#ç”¨url-loader" class="header-anchor">#</a> ç”¨<a href="https://www.webpackjs.com/loaders/url-loader/" target="_blank" rel="noopener noreferrer">url-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></h3> <p>åœ¨ file-loader çš„åŸºç¡€ä¸Šå¢åŠ äº†å°æ–‡ä»¶è½¬ base64 çš„åŠŸèƒ½</p> <blockquote><p>limit å­—æ®µï¼Œæ¨èå°äº 5kb çš„èµ„æºè½¬ï¼Œè€Œä¸æ˜¯æ‰€æœ‰éƒ½è½¬ï¼Œè½¬æˆ base64 åå¤§å°åŠ åˆ° css ä¸Šäº†ï¼Œcss å¤§äº†ä¹Ÿä¸å¥½</p></blockquote> <h3 id="ç”¨img-loaderå‹ç¼©å›¾ç‰‡å¤§å°"><a href="#ç”¨img-loaderå‹ç¼©å›¾ç‰‡å¤§å°" class="header-anchor">#</a> ç”¨<a href="https://www.npmjs.com/package/img-loader" target="_blank" rel="noopener noreferrer">img-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>å‹ç¼©å›¾ç‰‡å¤§å°</h3> <p>æœ¬èº«ä¸åšäº‹æƒ…ï¼Œå‹ç¼©å›¾ç‰‡éœ€è¦ç”¨æ’ä»¶</p> <blockquote><p>Minify PNG, JPEG, GIF and SVG images with imagemin plugins</p></blockquote> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token operator">:</span> <span class="token regex">/\.(jpe?g|png|gif|svg)$/i</span><span class="token punctuation">,</span>
        use<span class="token operator">:</span> <span class="token punctuation">[</span>
          <span class="token string">&quot;url-loader?limit=10000&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">{</span>
            loader<span class="token operator">:</span> <span class="token string">&quot;img-loader&quot;</span><span class="token punctuation">,</span>
            options<span class="token operator">:</span> <span class="token punctuation">{</span>
              plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
                <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;imagemin-gifsicle&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                  interlaced<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;imagemin-mozjpeg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                  progressive<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
                  arithmetic<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;imagemin-pngquant&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                  floyd<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
                  speed<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
                <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;imagemin-svgo&quot;</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
                  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> removeTitle<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> convertPathData<span class="token operator">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
                <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
              <span class="token punctuation">]</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="html-ä¸­å¤„ç†å›¾ç‰‡"><a href="#html-ä¸­å¤„ç†å›¾ç‰‡" class="header-anchor">#</a> html ä¸­å¤„ç†å›¾ç‰‡</h3> <p>html-loader</p> <h1 id="webpack-ç¯å¢ƒå˜é‡-å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒ"><a href="#webpack-ç¯å¢ƒå˜é‡-å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒ" class="header-anchor">#</a> webpack ç¯å¢ƒå˜é‡(å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒ)</h1> <h2 id="ç†è§£"><a href="#ç†è§£" class="header-anchor">#</a> ç†è§£</h2> <p>è¿™é‡Œçš„å¼€å‘ç¯å¢ƒå’Œç”Ÿäº§ç¯å¢ƒæŒ‡çš„æ˜¯é¡¹ç›®ä¸šåŠ¡å±‚é¢ï¼Œä¸åŒçš„ç¯å¢ƒæœ‰ä¸åŒçš„ä¸šåŠ¡å‚æ•°ï¼Œå¯ä»¥åœ¨æ‰“åŒ…æ—¶ä½“ç°ã€‚</p> <blockquote><p>npm çš„å„ç§ä¾èµ–ï¼Œåœ¨å“ªä¸ªç¯å¢ƒä¸‹ä½¿ç”¨ï¼Ÿ
å¼€å‘æ¨¡å¼éœ€è¦æ–¹ä¾¿è°ƒè¯•å°±ä¸ç”¨å‹ç¼©ï¼Œtreeshaking ç­‰åŠŸèƒ½ï¼Œè¦ webpack-dev-serverã€‚
ç”Ÿäº§ç¯å¢ƒè¦å‡å°‘æ–‡ä»¶ä½“ç§¯ï¼Œå°±ç”¨å‹ç¼©ç­‰åŠŸèƒ½ã€‚</p></blockquote> <p>development æ‰“åŒ…å‡ºæ¥çš„æ–‡ä»¶å¯¹å¼€å‘å‹å¥½
production æ‰“åŒ…å‡ºæ¥ç”¨äºç”Ÿäº§</p> <p>è¿™ä¸ªå’Œ npm é‡Œçš„ dependence å’Œ devDependence ä¸ä¸€æ ·ã€‚åœ¨
dependence ä¸­æ˜¯é¡¹ç›®è¿è¡Œæ—¶ç”¨åˆ°çš„ä¾èµ–, æ¯”å¦‚ä¸€äº›ä¸šåŠ¡ä¸Šçš„åº“ï¼Œåœ¨ä»£ç ä¸­å¼•ç”¨çš„ã€‚
devDependence æ˜¯é¡¹ç›®å†™ä»£ç æ—¶ï¼Œæ‰“åŒ…æ—¶ä¼šç”¨åˆ°çš„ã€‚å’Œä¸šåŠ¡æ— å…³ã€‚</p> <h2 id="æŒ‡å®šç¯å¢ƒ"><a href="#æŒ‡å®šç¯å¢ƒ" class="header-anchor">#</a> æŒ‡å®šç¯å¢ƒ</h2> <p>webpack --config webpack.common.js <strong>--env development</strong></p> <h3 id="ç¯å¢ƒä½¿ç”¨ä¸¾ä¾‹"><a href="#ç¯å¢ƒä½¿ç”¨ä¸¾ä¾‹" class="header-anchor">#</a> ç¯å¢ƒä½¿ç”¨ä¸¾ä¾‹</h3> <h4 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="header-anchor">#</a> å‚è€ƒ</h4> <p><a href="https://www.npmjs.com/package/mini-css-extract-plugin" target="_blank" rel="noopener noreferrer">mini-css-extract-plugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="ç”¨åˆ°çš„ä¾èµ–"><a href="#ç”¨åˆ°çš„ä¾èµ–" class="header-anchor">#</a> ç”¨åˆ°çš„ä¾èµ–</h4> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;clean-webpack-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.0.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;css-loader&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.4.2&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;html-webpack-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.2.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;mini-css-extract-plugin&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^0.9.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.42.0&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack-cli&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.3.11&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack-dev-server&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^3.10.3&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;webpack-merge&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.2.2&quot;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="æ‰“åŒ…å’Œè¿è¡Œè„šæœ¬"><a href="#æ‰“åŒ…å’Œè¿è¡Œè„šæœ¬" class="header-anchor">#</a> æ‰“åŒ…å’Œè¿è¡Œè„šæœ¬</h4> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack-dev-server --config webpack.common.js --env development&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build:dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config webpack.common.js --env development&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build:prod&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --config webpack.common.js --env production&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>æ‰“åŒ…ç”¨ webpack å‘½ä»¤ï¼Œè¿è¡Œç”¨ webpack-dev-server å‘½ä»¤ï¼Œé…ç½®æ–‡ä»¶éƒ½èµ°å…±é€šåªæ˜¯ç¯å¢ƒå†³å®šå„è‡ªçš„ä¸“é—¨é…ç½®</p> <h4 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="header-anchor">#</a> é…ç½®æ–‡ä»¶</h4> <p>ä¸åŒç¯å¢ƒçš„æ‰“åŒ…è¢«åˆ†æ•£åˆ°ä¸‰ä¸ªé…ç½®æ–‡ä»¶
webpack.common.js: æ‰€æœ‰ç¯å¢ƒå…±é€šé…ç½®, æœ€åæ ¹æ®å½“å‰ç¯å¢ƒå‚æ•°å¯¼å‡ºé…ç½®</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> MiniCssExtractPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;mini-css-extract-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token punctuation">{</span> CleanWebpackPlugin <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;clean-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> dev <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./webpack.dev&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> prod <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;./webpack.prod&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack-merge&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span><span class="token function-variable function">exports</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token parameter">env</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> devMode <span class="token operator">=</span> env <span class="token operator">!==</span> <span class="token string">&quot;production&quot;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> common <span class="token operator">=</span> <span class="token punctuation">{</span>
    entry<span class="token operator">:</span> <span class="token string">&quot;./src/app.js&quot;</span><span class="token punctuation">,</span>
    output<span class="token operator">:</span> <span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">&quot;./bundle.js&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    module<span class="token operator">:</span> <span class="token punctuation">{</span>
      rules<span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token punctuation">{</span>
          test<span class="token operator">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
          use<span class="token operator">:</span> <span class="token punctuation">[</span>
            <span class="token punctuation">{</span>
              loader<span class="token operator">:</span> MiniCssExtractPlugin<span class="token punctuation">.</span>loader<span class="token punctuation">,</span>
              options<span class="token operator">:</span> <span class="token punctuation">{</span>
                hmr<span class="token operator">:</span> process<span class="token punctuation">.</span>env<span class="token punctuation">.</span><span class="token constant">NODE_ENV</span> <span class="token operator">===</span> <span class="token string">&quot;development&quot;</span><span class="token punctuation">,</span>
              <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token punctuation">}</span><span class="token punctuation">,</span>
            <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">,</span>
          <span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token keyword">new</span> <span class="token class-name">MiniCssExtractPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        filename<span class="token operator">:</span> devMode <span class="token operator">?</span> <span class="token string">&quot;app.dev.css&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;app.bundle.css&quot;</span><span class="token punctuation">,</span>
        chunkFilename<span class="token operator">:</span> devMode <span class="token operator">?</span> <span class="token string">&quot;[id].css&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;[id].[hash].css&quot;</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token keyword">new</span> <span class="token class-name">CleanWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> <span class="token function">merge</span><span class="token punctuation">(</span>common<span class="token punctuation">,</span> env <span class="token operator">===</span> <span class="token string">&quot;production&quot;</span> <span class="token operator">?</span> prod <span class="token operator">:</span> dev<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>webpack.dev.js</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  devtool<span class="token operator">:</span> <span class="token string">&quot;cheap-module-source-map&quot;</span><span class="token punctuation">,</span>
  devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
    port<span class="token operator">:</span> <span class="token number">9001</span><span class="token punctuation">,</span>
    overlay<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// åœ¨æµè§ˆå™¨ä¸Šå…¨å±æ˜¾ç¤ºç¼–è¯‘çš„errorsæˆ–warningsã€‚</span>
    <span class="token comment">// hot:true,</span>
    hotOnly<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// ç¼–è¯‘å¤±è´¥æ—¶ä¸åˆ·æ–°é¡µé¢</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>HotModuleReplacementPlugin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    namedModules<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>webpack.prod.js</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> HtmlWebpackPlugin <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;html-webpack-plugin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">HtmlWebpackPlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      filename<span class="token operator">:</span> <span class="token string">&quot;index.html&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ç›®æ ‡æ–‡ä»¶æ˜</span>
      template<span class="token operator">:</span> <span class="token string">&quot;./index.html&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ä»¥å“ªä¸€ä¸ªhtmlæ–‡ä»¶ä¸ºæ¨¡æ¿</span>
      minify<span class="token operator">:</span> <span class="token punctuation">{</span>
        collapseWhitespace<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// æ‰“åŒ…ç»“æœå»æ‰ç©ºç™½</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    minimize<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="ç‰¹æ®Šå¤„ç†"><a href="#ç‰¹æ®Šå¤„ç†" class="header-anchor">#</a> ç‰¹æ®Šå¤„ç†</h3> <ul><li>æ‰“åŒ…æˆç”Ÿäº§ç¯å¢ƒä¸éœ€è¦ eslintï¼Œä½†æ˜¯å†™ä»£ç æ—¶éœ€è¦ eslint</li> <li>ç”Ÿäº§ç¯å¢ƒéœ€è¦é›ªç¢§å›¾åŠŸèƒ½ï¼Œä½†æ˜¯å¼€å‘ç¯å¢ƒä¸éœ€è¦</li></ul> <p>åœ¨å…±é€šé…ç½®é‡Œç”¨ç¯å¢ƒå˜é‡å‚æ•° env å†™ js ä»£ç åˆ¤æ–­</p> <h2 id="webpack4-ä¸­ç®€ä¾¿çš„ç¯å¢ƒåŒºåˆ†"><a href="#webpack4-ä¸­ç®€ä¾¿çš„ç¯å¢ƒåŒºåˆ†" class="header-anchor">#</a> Webpack4 ä¸­ç®€ä¾¿çš„ç¯å¢ƒåŒºåˆ†</h2> <p>webpack --mode production/development/none</p> <blockquote><p>ä¸åŒçš„ç¯å¢ƒæœ‰é»˜è®¤çš„é…ç½®æ¯”å¦‚åœ¨ production ç¯å¢ƒé»˜è®¤äº† tree-shakingï¼Œä¸éœ€è¦ç”¨æˆ·é…ç½®å°±æœ‰äº†</p></blockquote> <h3 id="ä¸¾ä¾‹"><a href="#ä¸¾ä¾‹" class="header-anchor">#</a> ä¸¾ä¾‹</h3> <h4 id="é…ç½®-5"><a href="#é…ç½®-5" class="header-anchor">#</a> é…ç½®</h4> <p>ä¸€ä¸ªæ²¡æœ‰é…ç½®çš„æ–‡ä»¶: webpack.config.js</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  entry<span class="token operator">:</span> <span class="token punctuation">{</span>
    app<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;./src/app.js&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  output<span class="token operator">:</span> <span class="token punctuation">{</span>
    filename<span class="token operator">:</span> <span class="token string">&quot;./[name].bundle.js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  module<span class="token operator">:</span> <span class="token punctuation">{</span>
    rules<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  plugins<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="æ‰“åŒ…è„šæœ¬"><a href="#æ‰“åŒ…è„šæœ¬" class="header-anchor">#</a> æ‰“åŒ…è„šæœ¬</h4> <div class="language-json extra-class"><pre class="language-json"><code><span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;test&quot;</span><span class="token operator">:</span> <span class="token string">&quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;webpack --mode production&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="header-anchor">#</a> æ³¨æ„</h3> <p><em>é»˜è®¤æ— é…ç½®æ‰“åŒ…å¤„ç†ä¸äº† cssï¼Ÿ</em>
è¿˜æ˜¯è¦ loader çš„
<em>é…ç½®æ–‡ä»¶è¦ä¸è¦å†™æ­» modeï¼Ÿä¸å†™æ­»ä¼šæœ‰å®˜æ–¹è­¦å‘Š</em>
å†™äº†å°±æŒ‰ç…§<a href="https://webpack.js.org/configuration/mode/" target="_blank" rel="noopener noreferrer">å®˜æ–¹é»˜è®¤é…ç½®<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="webpack-dev-server"><a href="#webpack-dev-server" class="header-anchor">#</a> webpack-dev-server</h2> <h3 id="å®˜ç½‘"><a href="#å®˜ç½‘" class="header-anchor">#</a> å®˜ç½‘</h3> <p>https://www.webpackjs.com/configuration/dev-server/</p> <h3 id="å¸¸ç”¨é…ç½®"><a href="#å¸¸ç”¨é…ç½®" class="header-anchor">#</a> å¸¸ç”¨é…ç½®</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>devtool<span class="token operator">:</span> <span class="token string">&quot;cheap-module-source-map&quot;</span><span class="token punctuation">,</span> <span class="token comment">// è®©ç¼–è¯‘åçš„bundleï¼Œèƒ½ä¸æºä»£ç å¯¹åº”ï¼Œåœ¨æµè§ˆå™¨ä¸­æœ‰è®°å¯æŸ¥</span>
<span class="token comment">// devtool: &quot;eval-source-map&quot;,//ç­‰ç­‰, 7ç§source-mapå‚è€ƒå®˜ç½‘</span>
devServer<span class="token operator">:</span> <span class="token punctuation">{</span>
port<span class="token operator">:</span> <span class="token number">9001</span><span class="token punctuation">,</span>
overlay<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// åœ¨æµè§ˆå™¨ä¸Šå…¨å±æ˜¾ç¤ºç¼–è¯‘çš„errorsæˆ–warningsã€‚</span>
historyApiFallback<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// è¾“å…¥ä¸å­˜åœ¨çš„è·¯å¾„æ—¶ä¸è·³è½¬</span>
hot<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// çƒ­æ›´æ–°å¼€å¯ï¼Œä¸ä¼šåˆ·æ–°æµè§ˆå™¨ï¼Œåªä¼šæ›´æ–°js</span>
hotOnly<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// ä»£ç æ”¹å˜æ—¶ä¸åˆ·æµè§ˆå™¨ä¿æŒåŸæ ·</span>
    proxy<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token string">&quot;/api&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">//é‡åˆ°å¦‚ä¸‹è·¯å¾„çš„è¯·æ±‚å°±è½¬å‘</span>
        target<span class="token operator">:</span> <span class="token string">&quot;123.456.78.90&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ç›®æ ‡åœ°å€</span>
        changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// è·¨åŸŸæ—¶æ”¹å˜origin</span>
        pathRewrite<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// ç”¨æ­£åˆ™æŠŠåŸè¯·æ±‚éƒ¨åˆ†å­—ç¬¦ä¸²æ›¿æ¢ï¼Œèµ·åˆ°ç®€åŒ–è¯·æ±‚ä½œç”¨</span>
          <span class="token string">&quot;^/comments/old&quot;</span><span class="token operator">:</span> <span class="token string">&quot;api/comments/new/new1/new2&quot;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        headers<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token string">&quot;/api2&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">//é‡åˆ°å¦‚ä¸‹è·¯å¾„çš„è¯·æ±‚å°±è½¬å‘</span>
        target<span class="token operator">:</span> <span class="token string">&quot;123.456.78.90&quot;</span><span class="token punctuation">,</span> <span class="token comment">// ç›®æ ‡åœ°å€</span>
        changeOrigin<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// è·¨åŸŸæ—¶æ”¹å˜origin</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h2 id="ä»£ç åˆ†å‰²"><a href="#ä»£ç åˆ†å‰²" class="header-anchor">#</a> ä»£ç åˆ†å‰²</h2> <ul><li>å¤šé¡µé¢: å…±é€šæ¨¡å—åˆ†å‰²å‡ºæ¥å•ç‹¬æ‰“åŒ…
å•ç‹¬ä¸ºç‹¬ç«‹æ–‡ä»¶åæµè§ˆå™¨å¯ä»¥è¿›è¡Œç¼“å­˜ï¼Œå¤šä¸ªé¡µé¢å¼•ç”¨æ—¶å°±ä¸ç”¨é‡å¤åŠ è½½
ä¸»ä¸šåŠ¡ä»£ç +å…¬å…±ä¾èµ–+ç¬¬ä¸‰æ–¹åŒ…+webpack è¿è¡Œä»£ç </li> <li>å•é¡µé¢: å‡å°‘å•æ–‡ä»¶ä½“ç§¯ï¼ŒæŠŠå¯ä»¥å¼‚æ­¥åŠ è½½çš„æ¨¡å—æ”¹æˆå¼‚æ­¥åŠ è½½
ä¸»ä¸šåŠ¡ä»£ç +ä¸€æ­¥æ¨¡å—+ç¬¬ä¸‰æ–¹åŒ…+webpack è¿è¡Œä»£ç </li> <li>ä¸šåŠ¡ä»£ç çº¯å‡€ï¼Œæ‹†åˆ†åä¼šå½¢æˆä¸‰ä¸ªæ–‡ä»¶
app.js // ä¸šåŠ¡ä»£ç 
vender.js // ç¬¬ä¸‰æ–¹æ¨¡å—
manifest.js // webpack è¿è¡Œä»£ç </li></ul> <h3 id="å¤šé¡µé¢"><a href="#å¤šé¡µé¢" class="header-anchor">#</a> å¤šé¡µé¢</h3> <p>å¤šä¸ªå…¥å£æ–‡ä»¶
å¤šä¸ª HtmlWebpackPlugin å¹¶æŒ‡å®š chunks</p> <h4 id="webpack4-ä¸­çš„ä»£ç åˆ†å‰²"><a href="#webpack4-ä¸­çš„ä»£ç åˆ†å‰²" class="header-anchor">#</a> webpack4 ä¸­çš„ä»£ç åˆ†å‰²</h4> <p>é…ç½®æ–‡ä»¶ä¸­çš„ optimization å­—æ®µ</p> <div class="language-json extra-class"><pre class="language-json"><code>optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// å‘½åæ–¹å¼</span>
      chunks<span class="token operator">:</span> <span class="token string">&quot;initial&quot;</span><span class="token punctuation">,</span> <span class="token comment">//æå–æ–¹å¼</span>
      minSize<span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token comment">// å¤§äºå¤šå°‘æå–</span>
      automaticNameDelimiter<span class="token operator">:</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span> <span class="token comment">// æ–‡ä»¶ååˆ†éš”ç¬¦</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// æŒ‡å®šåˆ†å‰²æ¨¡å—</span>
        jquery<span class="token operator">:</span> <span class="token punctuation">{</span>
          test<span class="token operator">:</span> /jquery/<span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">&quot;jquery&quot;</span><span class="token punctuation">,</span>
          piority<span class="token operator">:</span> <span class="token number">-10</span><span class="token punctuation">,</span> <span class="token comment">// æƒé™ã€‚å†³å®šæ˜¯å•ç‹¬æ‰“åŒ…è¿˜æ˜¯æŒ‰ç…§å‰é¢çš„é…ç½®æ‰“åŒ…åˆ°vendorä¸­</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h4 id="åˆ†å‰²ç­–ç•¥-å¸Œæœ›åˆ†å‰²çš„åªæ˜¯ä¸šåŠ¡æ¨¡å—"><a href="#åˆ†å‰²ç­–ç•¥-å¸Œæœ›åˆ†å‰²çš„åªæ˜¯ä¸šåŠ¡æ¨¡å—" class="header-anchor">#</a> åˆ†å‰²ç­–ç•¥ - å¸Œæœ›åˆ†å‰²çš„åªæ˜¯ä¸šåŠ¡æ¨¡å—</h4> <div class="language-javascript extra-class"><pre class="language-javascript"><code>optimization<span class="token operator">:</span> <span class="token punctuation">{</span>
    splitChunks<span class="token operator">:</span> <span class="token punctuation">{</span>
      name<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// å‘½åæ–¹å¼</span>
      chunks<span class="token operator">:</span> <span class="token string">&quot;initial&quot;</span><span class="token punctuation">,</span> <span class="token comment">//æå–æ–¹å¼</span>
      minSize<span class="token operator">:</span> <span class="token number">5000</span><span class="token punctuation">,</span> <span class="token comment">// å¤§äºå¤šå°‘æå–</span>
      automaticNameDelimiter<span class="token operator">:</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span> <span class="token comment">// æ–‡ä»¶ååˆ†éš”ç¬¦</span>
      cacheGroups<span class="token operator">:</span> <span class="token punctuation">{</span>
        vendor<span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token comment">// åªæŠŠnode_modulesä¸‹çš„æ¨¡å—æŠ½ä¸ºvendor</span>
          test<span class="token operator">:</span> <span class="token regex">/[\\/]node_modules[\\/]/</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">&quot;vendor&quot;</span><span class="token punctuation">,</span>
          piority<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">10</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
        <span class="token comment">// æŒ‡å®šåˆ†å‰²æ¨¡å—</span>
        jquery<span class="token operator">:</span> <span class="token punctuation">{</span>
          test<span class="token operator">:</span> <span class="token regex">/jquery/</span><span class="token punctuation">,</span>
          name<span class="token operator">:</span> <span class="token string">&quot;jquery&quot;</span><span class="token punctuation">,</span>
          piority<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">10</span> <span class="token comment">// æƒé™ã€‚å†³å®šæ˜¯å•ç‹¬æ‰“åŒ…è¿˜æ˜¯æŒ‰ç…§å‰é¢çš„é…ç½®æ‰“åŒ…åˆ°vendorä¸­ï¼Œ-10ä¼šæ‹¿å‡ºæ¥</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    runtimeChunk<span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// webpackè¿è¡Œä»£ç </span>
      name<span class="token operator">:</span> <span class="token string">&quot;runtime&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><h1 id="webpack-åŸç†"><a href="#webpack-åŸç†" class="header-anchor">#</a> webpack åŸç†</h1> <h2 id="è‡ªå®šä¹‰-loader"><a href="#è‡ªå®šä¹‰-loader" class="header-anchor">#</a> è‡ªå®šä¹‰ loader</h2> <p>å¯ä»¥å¤„ç†è‡ªå®šä¹‰çš„æ–‡ä»¶ç±»å‹ï¼Œå¯ä»¥åšåœ¨æ‰“åŒ…æ—¶çš„ä¸€äº›å­—ç¬¦ä¸²æ›¿æ¢å·¥ä½œ
loader æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œå¤„ç†åè¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²</p> <h2 id="è‡ªå®šä¹‰-plugin"><a href="#è‡ªå®šä¹‰-plugin" class="header-anchor">#</a> è‡ªå®šä¹‰ plugin</h2> <p>å¯ä»¥å¤„ç†æ‰“åŒ…åçš„æ–‡ä»¶</p> <h2 id="webpack-ä¸­é—´ä»¶å®ç°çƒ­æ›´æ–°"><a href="#webpack-ä¸­é—´ä»¶å®ç°çƒ­æ›´æ–°" class="header-anchor">#</a> webpack ä¸­é—´ä»¶å®ç°çƒ­æ›´æ–°</h2> <p>æ‹¼æ¥å…¥å£æ–‡ä»¶
websocket æ›¿æ¢ä»£ç </p></div> <footer><!----> <hr> <!----></footer></article> <div class="sticker vuepress-toc"><div class="vuepress-toc-item vuepress-toc-h2 active"><a href="#ç‰ˆæœ¬-4-0" title="ç‰ˆæœ¬ 4.0">ç‰ˆæœ¬ 4.0</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#webpack-åœ¨å‰ç«¯ç»„ä»¶åŒ–çš„è¶‹åŠ¿ä¸‹å¸®åŠ©å¼€å‘è€…è‡ªåŠ¨å®Œæˆå¾ˆå¤šçç¢çš„å·¥ä½œ" title="webpack åœ¨å‰ç«¯ç»„ä»¶åŒ–çš„è¶‹åŠ¿ä¸‹å¸®åŠ©å¼€å‘è€…è‡ªåŠ¨å®Œæˆå¾ˆå¤šçç¢çš„å·¥ä½œ">webpack åœ¨å‰ç«¯ç»„ä»¶åŒ–çš„è¶‹åŠ¿ä¸‹å¸®åŠ©å¼€å‘è€…è‡ªåŠ¨å®Œæˆå¾ˆå¤šçç¢çš„å·¥ä½œ</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#webpack-æ”¯æŒçš„æ¨¡å—åŒ–è§„èŒƒ" title="webpack æ”¯æŒçš„æ¨¡å—åŒ–è§„èŒƒ">webpack æ”¯æŒçš„æ¨¡å—åŒ–è§„èŒƒ</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#webpack-é…ç½®æ–‡ä»¶æ ¸å¿ƒ" title="webpack é…ç½®æ–‡ä»¶æ ¸å¿ƒ">webpack é…ç½®æ–‡ä»¶æ ¸å¿ƒ</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#webpack-å±€éƒ¨å®‰è£…å’Œå…¨å±€å®‰è£…" title="webpack å±€éƒ¨å®‰è£…å’Œå…¨å±€å®‰è£…">webpack å±€éƒ¨å®‰è£…å’Œå…¨å±€å®‰è£…</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#é¡¹ç›®ä½¿ç”¨-babel" title="é¡¹ç›®ä½¿ç”¨ babel">é¡¹ç›®ä½¿ç”¨ babel</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#babel-ä¾èµ–ï¼Œå±äº-dev-ä¾èµ–" title="babel ä¾èµ–ï¼Œå±äº dev ä¾èµ–">babel ä¾èµ–ï¼Œå±äº dev ä¾èµ–</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#é…ç½®-preset" title="é…ç½® preset">é…ç½® preset</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#babel-polyfill-å› ä¸ºç”Ÿæˆå…¨å±€ä»£ç å®ç°ï¼Œå¯¼è‡´æ–‡ä»¶å¾ˆå¤§ï¼Œæ‰€ä»¥åœ¨æ¡†æ¶å¼€å‘ä¸­ä¸æ¨è" title="babel-polyfill - å› ä¸ºç”Ÿæˆå…¨å±€ä»£ç å®ç°ï¼Œå¯¼è‡´æ–‡ä»¶å¾ˆå¤§ï¼Œæ‰€ä»¥åœ¨æ¡†æ¶å¼€å‘ä¸­ä¸æ¨è">babel-polyfill - å› ä¸ºç”Ÿæˆå…¨å±€ä»£ç å®ç°ï¼Œå¯¼è‡´æ–‡ä»¶å¾ˆå¤§ï¼Œæ‰€ä»¥åœ¨æ¡†æ¶å¼€å‘ä¸­ä¸æ¨è</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#babel-transform-runtime-é€‚åˆæ¡†æ¶å¼€å‘ï¼Œåªä¼šå¯¹ä½ ç”¨åˆ°çš„-es6-æ–¹æ³•è¿›è¡ŒåŠ å…¥ä»£ç å®ç°ï¼Œå‡å°‘æ‰“åŒ…æ–‡ä»¶ä½“ç§¯" title="babel-transform-runtime - é€‚åˆæ¡†æ¶å¼€å‘ï¼Œåªä¼šå¯¹ä½ ç”¨åˆ°çš„ es6 æ–¹æ³•è¿›è¡ŒåŠ å…¥ä»£ç å®ç°ï¼Œå‡å°‘æ‰“åŒ…æ–‡ä»¶ä½“ç§¯">babel-transform-runtime - é€‚åˆæ¡†æ¶å¼€å‘ï¼Œåªä¼šå¯¹ä½ ç”¨åˆ°çš„ es6 æ–¹æ³•è¿›è¡ŒåŠ å…¥ä»£ç å®ç°ï¼Œå‡å°‘æ‰“åŒ…æ–‡ä»¶ä½“ç§¯</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#é¡¹ç›®ä½¿ç”¨-typescript" title="é¡¹ç›®ä½¿ç”¨ Typescript">é¡¹ç›®ä½¿ç”¨ Typescript</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#ä¾èµ–" title="ä¾èµ–">ä¾èµ–</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#é…ç½®ä½¿ç”¨é…ç½®æ–‡ä»¶-tsconfig-json" title="é…ç½®ä½¿ç”¨é…ç½®æ–‡ä»¶ tsconfig.json">é…ç½®ä½¿ç”¨é…ç½®æ–‡ä»¶ tsconfig.json</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#ä½¿ç”¨" title="ä½¿ç”¨">ä½¿ç”¨</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#é¡¹ç›®ä½¿ç”¨å…¶ä»–åº“ä¾‹å¦‚-vue" title="é¡¹ç›®ä½¿ç”¨å…¶ä»–åº“ä¾‹å¦‚ vue">é¡¹ç›®ä½¿ç”¨å…¶ä»–åº“ä¾‹å¦‚ vue</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#æ­¥éª¤" title="æ­¥éª¤">æ­¥éª¤</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#é¡¹ç›®æ‰“åŒ…-css-less-sass" title="é¡¹ç›®æ‰“åŒ… css, less, sass">é¡¹ç›®æ‰“åŒ… css, less, sass</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_1-css" title="1. CSS">1. CSS</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_2-é¡¹ç›®æ‰“åŒ…-less-sass-css-çš„é¢„å¤„ç†è¯­è¨€" title="2. é¡¹ç›®æ‰“åŒ… less/sass, css çš„é¢„å¤„ç†è¯­è¨€">2. é¡¹ç›®æ‰“åŒ… less/sass, css çš„é¢„å¤„ç†è¯­è¨€</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#_3-å•ç‹¬æå–-css-æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶" title="3. å•ç‹¬æå– css æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶">3. å•ç‹¬æå– css æ‰“åŒ…æˆä¸€ä¸ªæ–‡ä»¶</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#postcss" title="postcss">postcss</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#é¡¹ç›®å¤„ç†-html" title="é¡¹ç›®å¤„ç† html">é¡¹ç›®å¤„ç† html</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#é…ç½®-4" title="é…ç½®">é…ç½®</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#é¡¹ç›®å¤„ç†å›¾ç‰‡" title="é¡¹ç›®å¤„ç†å›¾ç‰‡">é¡¹ç›®å¤„ç†å›¾ç‰‡</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#ç”¨file-loader" title="ç”¨file-loader">ç”¨file-loader</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#ç”¨url-loader" title="ç”¨url-loader">ç”¨url-loader</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#ç”¨img-loaderå‹ç¼©å›¾ç‰‡å¤§å°" title="ç”¨img-loaderå‹ç¼©å›¾ç‰‡å¤§å°">ç”¨img-loaderå‹ç¼©å›¾ç‰‡å¤§å°</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#html-ä¸­å¤„ç†å›¾ç‰‡" title="html ä¸­å¤„ç†å›¾ç‰‡">html ä¸­å¤„ç†å›¾ç‰‡</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#ç†è§£" title="ç†è§£">ç†è§£</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#æŒ‡å®šç¯å¢ƒ" title="æŒ‡å®šç¯å¢ƒ">æŒ‡å®šç¯å¢ƒ</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#ç¯å¢ƒä½¿ç”¨ä¸¾ä¾‹" title="ç¯å¢ƒä½¿ç”¨ä¸¾ä¾‹">ç¯å¢ƒä½¿ç”¨ä¸¾ä¾‹</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#ç‰¹æ®Šå¤„ç†" title="ç‰¹æ®Šå¤„ç†">ç‰¹æ®Šå¤„ç†</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#webpack4-ä¸­ç®€ä¾¿çš„ç¯å¢ƒåŒºåˆ†" title="Webpack4 ä¸­ç®€ä¾¿çš„ç¯å¢ƒåŒºåˆ†">Webpack4 ä¸­ç®€ä¾¿çš„ç¯å¢ƒåŒºåˆ†</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#ä¸¾ä¾‹" title="ä¸¾ä¾‹">ä¸¾ä¾‹</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#æ³¨æ„" title="æ³¨æ„">æ³¨æ„</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#webpack-dev-server" title="webpack-dev-server">webpack-dev-server</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#å®˜ç½‘" title="å®˜ç½‘">å®˜ç½‘</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#å¸¸ç”¨é…ç½®" title="å¸¸ç”¨é…ç½®">å¸¸ç”¨é…ç½®</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#ä»£ç åˆ†å‰²" title="ä»£ç åˆ†å‰²">ä»£ç åˆ†å‰²</a></div><div class="vuepress-toc-item vuepress-toc-h3"><a href="#å¤šé¡µé¢" title="å¤šé¡µé¢">å¤šé¡µé¢</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#è‡ªå®šä¹‰-loader" title="è‡ªå®šä¹‰ loader">è‡ªå®šä¹‰ loader</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#è‡ªå®šä¹‰-plugin" title="è‡ªå®šä¹‰ plugin">è‡ªå®šä¹‰ plugin</a></div><div class="vuepress-toc-item vuepress-toc-h2"><a href="#webpack-ä¸­é—´ä»¶å®ç°çƒ­æ›´æ–°" title="webpack ä¸­é—´ä»¶å®ç°çƒ­æ›´æ–°">webpack ä¸­é—´ä»¶å®ç°çƒ­æ›´æ–°</a></div></div></div></div> <footer class="footer" data-v-f0201fb2><div class="footer-left-wrap" data-v-f0201fb2><ul class="contact" data-v-f0201fb2><li class="contact-item" data-v-f0201fb2><a href="https://github.com/ulivz" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-f0201fb2><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-github" data-v-f0201fb2><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22" data-v-f0201fb2></path></svg>
          
        </a></li><li class="contact-item" data-v-f0201fb2><a href="https://twitter.com/_ulivz" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-f0201fb2><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-twitter" data-v-f0201fb2><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z" data-v-f0201fb2></path></svg>
          
        </a></li></ul></div> <div class="footer-right-wrap" data-v-f0201fb2><ul class="copyright" data-v-f0201fb2><li class="copyright-item" data-v-f0201fb2><a href="https://policies.google.com/privacy?hl=en-US" target="_blank" rel="noopener noreferrer" class="nav-link external" data-v-f0201fb2>Privacy Policy</a></li><li class="copyright-item" data-v-f0201fb2><a href="/blog/2020/04/05/webpack/.html" class="nav-link" data-v-f0201fb2>MIT Licensed | Copyright Â© 2018-present Vue.js</a></li></ul></div></footer></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.5bbe13a6.js" defer></script><script src="/blog/assets/js/7.126d0200.js" defer></script><script src="/blog/assets/js/4.c23d506f.js" defer></script><script src="/blog/assets/js/22.034c2fa8.js" defer></script>
  </body>
</html>
